<head>
	<title>Test</title>
</head>
<body>
	<div id="weather-test">
		<h5>item_id:</h5>
		<p id="p1">content 1</p>
		<h5>last_updated:</h5>
		<p id="p2">content 2</p>
	</div>

	<script>
		async function fetchText() {
			let response = await fetch('http://127.0.0.1:8000/test');

			console.log(response.status); // 200
			console.log(response.statusText); // OK

			if (response.status === 200) {
				var data = await response.text();
				// handle data
				// convert var data to json object
				data = JSON.parse(data);
				console.log(data);
				// change text of element (short version)
				var change_text = document.getElementById('p1');
				change_text.innerHTML = data.item_id;
				// change text of element  (long version)
				var change_text = document.getElementById('p2');
				change_text.innerHTML = '';
				change_text.appendChild(document.createTextNode(data.last_updated));
			}
		}
		fetchText();
	</script>
</body>
